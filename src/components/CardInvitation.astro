---
import cancion from "@/assets/audio/Music.mp3";
---

<style>
    #target {
        background-image: url("https://www.entrealamos.com/wp-content/uploads/2012/08/background-flores-nuevo.jpg");
        background-attachment: fixed;
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center;
    }
</style>

<section
    class="bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg max-w-md text-center relative border border-gray-300"
    id="target"
>
    <h2 class="text-2xl italic font-semibold mb-4">
        Dale play a mi canción favorita
    </h2>

    <!-- Reproductor personalizado -->
    <div class="flex items-center justify-center gap-4 my-4">
        <button
            id="playBtn"
            class="w-12 h-12 bg-rose-400 text-white rounded-full flex items-center justify-center shadow hover:bg-rose-500 transition"
        >
            <!-- Icono por defecto: play -->
            <svg
                id="playIcon"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="currentColor"
                class="icon"
            >
                <path
                    d="M9 6c0-.85.99-1.3 1.62-.78l.08.07 6 6c.38.38.38 1 0 1.38l-6 6a1 1 0 0 1-1.7-.7V6z"
                ></path>
            </svg>
        </button>
    </div>

    <audio id="audioPlayer" src={cancion}></audio>

    <!-- Texto invitación -->
    <div class="border border-gray-300 p-4 rounded-md mt-4 bg-white">
        <p class="mb-2">
            Hay eventos en la vida que son muy especiales por sí solos, pero
            poder compartirlos con quienes más quiero, los convierte en momentos
            únicos e inolvidables.
        </p>
        <p class="font-bold mt-2">¡Te esperamos en mi fiesta!</p>
    </div>
</section>

<script>
    const audio = document.getElementById("audioPlayer");
    const playBtn = document.getElementById("playBtn");
    const playIcon = document.getElementById("playIcon");

    let isPlaying = false;

    playBtn?.addEventListener("click", () => {
        if (!audio) return;

        if (isPlaying) {
            audio.pause();
            playIcon.innerHTML = `<path d="M9 6c0-.85.99-1.3 1.62-.78l.08.07 6 6c.38.38.38 1 0 1.38l-6 6a1 1 0 0 1-1.7-.7V6z" />`; // Play icon
        } else {
            audio.play();
            playIcon.innerHTML = `<path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>`;
        }

        isPlaying = !isPlaying;
    });
</script>
